---
output:
  html_document:
    toc: false
    fig_caption: yes
    css: "/home/geo047/gitHUB_WMAM/MyPackage/CSS/example/assets/css/styles.css"
  pdf_document:
    highlight: null
    number_sections: yes
vignette: >
  %\VignetteIndexEntry{Quick Start Guide}
  %\VignetteEngine{knitr::knitr}
  %\usepackage[utf8]{inputenc}
---
<head>
<meta charset=utf-8>
<meta http-equiv=X-UA-Compatible content="IE=edge">
<title>One-column fixed-width responsive layout</title>
<meta name=viewport content="width=device-width, initial-scale=1">
<meta name=Description lang=en content="ADD SITE DESCRIPTION">
<meta name=author content="ADD AUTHOR INFORMATION">
<meta name=robots content="index, follow">
</head>
<body>
<div class=container; margin: 0 0 0 0; >
<div class=header >
<font size="6"; color="white"> <b>EAGLE 1.0</b>: <i>Quick Start Guide</i> </font>
<br>
<font size="4"; color="white">  <b>  Andrew W. George, </b>  <br>
<b> Data61, CSIRO, Australia </b> </font>
</div>
<div class=content>
<div class=main>
<h1><b> Some Background </b> </h1>
<p>
Eagle is a software package for genome-wide association mapping in animal, plant, or human populations of arbitary structure.  Our method differs from most other association mapping methods in that we fit all 
marker-trait associations simultaneously, while still identifying the "best" set of marker loci in 
strongest association with a trait.  Our method is threshold free.  


<h1><b> Getting Started </b> </h1>

Eagle is written in  [R](https://www.r-project.org/about.html). There are various ways of installing Eagle, depending upon your operating system and preference. See our Installatiion Guide for details. Here, we will assume that you have [R](https://www.r-project.org/about.html) and that you have successfully installed Eagle. 

To begin, start an interactive session in [R](https://www.r-project.org/about.html) and type the following at the R prompt
```{r eval=FALSE}
library("Eagle")
```
Nothing appears to happen but this loads the Eagle package into R and makes its functions available to the user. 



</p>
<h1> <b> Running Eagle the Easy Way </b> </h1>
<p>
There are two ways in which the functions in Eagle can be run. One is via the traditional approach of writing an R script with the Eagle functions that read in the data and perform the analysis. R users will be familar with this approach. See our UserManual for details.  
</p>

<p>
Our preferred way of interacting with Eagle, especially if your are not a regular R user,  is through our browser-based user interface (UI). 
To run our UI, at the R prompt type 
</p>
```{r eval=FALSE}
RunApp()
```
<p>
which will open your web browser automatically to our UI.   It is worth mentioning that although we are 
using an internet browser, <b> we are not using the internet </b>. All your data and its analysis remains local to your computer. 
</p>

<h1><b> Reading in the Marker Data </b></h1>
<p>
To read in your marker data into Eagle, begin by clicking on the  <mark>Read Genotypes</mark> tab at the top of the page in the navigation bar.  This will take you to our page for reading in the marker data. 
</p>
<p>
Eagle can handle two types of file; a plain text file containing the marker genotypes and a PLINK ped file. 
Missing data is allowed in either file type.  
</p>

<h2>Reading in a PLINK ped file</h2>

<p> To read in a PLINK ped file, set the text type to "PLINK", set the available memory, click on "Select File" 
to open a file browser and select the marker file, and click on "Upload file" to begin reading the file. 
As the file is being read, output from running the R function will appear on the left hand side of the page, 
along with a loading animation. Once the file has finished being read, the loading animation will disappear.
</p>


```{r, out.width = "700px", echo=FALSE}
knitr::include_graphics("images/ReadMarkerScreen_PLINK.jpg")
```


<h2>Reading in a text file</h2>

Eagle can also handle marker data in a plain text file where the file contains marker genotypes. 
Here, if it is a  population of outbred individuals, the file is assumed to contain three marker genotypes 
AA, AB, and BB. These three genotypes can be coded as any alphanumeric value, as long as the coding is 
consistent across all loci. For inbred populations, the marker file is assumed to contain two 
marker genotypes AA and BB. See the UserManual for details. 


The reading in of a text file is similar to reading in a PLINK ped file as described above. 
The difference is in the first step. In Step 1, the file type is set to "text". 
In doing so, the input section changes slightly to 
allow entry of the alphanumeric values in the marker file that correspond to marker genotypes AA, AB,   
BB, and the missing genotype. 


<h1><b> Reading in the Phenotypic and Map Data </b></h1>

<p>
Reading in the phenotypic data (i.e., data on one or more traits and any fixed effects) and a 
marker map is very similar to the above desribed process. We assume both the phenotypic file and map file 
are either space or comma separated. There is the option for the first row to contain column names in 
the phenotypic file. Click on the 
<mark>Read Phenotype</mark> or <mark>Read Map</mark> tab in the navigation bar at the top of the page. Work 
through the steps, with the final step being the "Upload file" step. A loading animation will appear while the file is being read, and ouput is displayed on the right of the page. It is safe to move to another page when the 
loading animation disappears. 
</p>

<h1><b> Analysing the Data </b></h1>
To perform a genome-wide association mapping analysis of the data, click on the <mark>Analyse</mark> tab 
in the navigation bar at the top of the page.  This will take you to the page for analysing your data. 
How the page looks will be dependent, partially, on the data contained in your phenotypic file. However, 
the five steps remain the same. First, choose the trait by selecting from the list of available  variables.  
Second, select which variable are to act as fixed effects in the model, if any. 
Third,  set the number of cpu available for distributed computing.  Fourth, 
click on "Additional Options" if you would like to set the maximum number of iterations, 
and/or have Eagle generate verbose output.  For most analyses, there shouldn't be any need to click on 
"Additional Options".  The last step is to click on "Perform genome-wide analysis". As before, a 
processing animation will appear and output will start being printed to the right of the page. Once the 
analysis is complete, click on <mark>Findings</mark>. 

 
```{r, out.width = "700px", echo=FALSE}
knitr::include_graphics("images/AnalysisScreen.jpg")
```


<h1><b> Findings </b></h1>
To view the results, click on the <mark>Findings</mark> tab at the top of the page. On the right hand size 
of the page, the "best" set of snp in strongest association with the trait are displayed in tabular form. 
By clicking on the  button on the left hand side, additional summary results are displayed. 


```{r, out.width = "700px", echo=FALSE}
knitr::include_graphics("images/FindingsScreen.jpg")
```

<br>
<hr>
<h1><b>Where to Go for Help</b></h1>
<ul>
<li><p>The UI has built-in help. By hovering over any of the input widgets, a popup help box appears</p>  </li>
<li><p> Detailed help is available on every page. Just hover the cursor over the <mark>Details</mark> bar and 
a popup box with a detailed description will appear.</p></li>
<li><p>At the top of any page is the <mark>Help</mark> tab. By clicking on this tab, a menu of items appears. 
Frequently asked questions, and other documents such as a worked example can be accessed.</p>  </li>
<li> <p>Youtube videos have been created on how to install Eagle, and how to perform a genome-wide analysis.
</p> </ul>
<li><p> Email your question to <code>eaglehelp@csiro.au</code> </p></li>
</p>


