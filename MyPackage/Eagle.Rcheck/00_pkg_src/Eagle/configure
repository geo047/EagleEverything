#!/bin/bash
# Josh Bowden CSIRO
# 15/01/2018
# Simple configure scipt can be used to set required Makevars flags depending on available libraries
# It was used to set paths to installed HDF5 libraries, however HDF5 is currently not used.

HDF5LIBS=""
HDF5INC="-DEIGEN_DEFAULT_TO_ROW_MAJOR -DEIGEN_USE_BLAS"

# We will not use HDF5 as the DEIGEN_DEFAULT_TO_ROW_MAJOR improves ReadBlock() performance
# if [[ -n ${EAGLE_HDF5_HOME} ]] ; then
#     if [ -f ${EAGLE_HDF5_HOME}/include/hdf5.h ] ; then
#        HDF5LIBS="-L ${EAGLE_HDF5_HOME}/lib -lhdf5 "
#       HDF5INC="-I ${EAGLE_HDF5_HOME}/include -D_HASHDF5 -DEIGEN_DEFAULT_TO_ROW_MAJOR -DEIGEN_USE_BLAS"
#        echo "EAGLE_HDF5_HOME is set HDF5 code will be used"
#    fi
#else
#  echo "EAGLE_HDF5_HOMEinclude/hdf5.h was not found so HDF5 will not be used"
#fi

sed -e "s|@HDF5LIBS@|${HDF5LIBS}|"  -e "s|@HDF5INC@|${HDF5INC}|"  src/Makevars.in > src/Makevars



